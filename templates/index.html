<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rentify ‚Äî –ê—Ä–µ–Ω–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–µ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="/static/css/style.css">
</head>
{% extends "layout.html" %}

{% block content %}

    <!-- Flash-—Å–æ–æ–±—â–µ–Ω–∏—è -->
    <div class="container mt-3">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>

    <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
    <section class="hero">
        <div class="container">
            <h1>–ê—Ä–µ–Ω–¥–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–µ</h1>
            <p>–ù–∞–π–¥–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω–æ–µ –∂–∏–ª—å—ë –∏–ª–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ</p>
            <section class="search-filters">
    <div class="container">
        <form method="GET" action="{{ url_for('apartments') }}">
            <div class="row g-3">
                <div class="col-md-4">
                    <label class="form-label">–†–∞–π–æ–Ω</label>
                    <select name="district" class="form-select">
                        <option value="">–í—Å–µ —Ä–∞–π–æ–Ω—ã</option>
                        {% for district in ['–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π', '–°–æ–≤–µ—Ç—Å–∫–∏–π', '–õ–µ–Ω–∏–Ω—Å–∫–∏–π', '–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π', '–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∏–π'] %}
                        <option value="{{ district }}"
                            {% if district == current_district %}selected{% endif %}>
                            {{ district }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-4">
                    <label class="form-label">–¶–µ–Ω–∞ (‚ÇΩ/–º–µ—Å)</label>
                    <div class="input-group">
                        <input type="number" name="min_price" placeholder="–û—Ç"
                               class="form-control" value="{{ current_min_price or '' }}">
                        <span class="input-group-text">-</span>
                        <input type="number" name="max_price" placeholder="–î–æ"
                               class="form-control" value="{{ current_max_price or '' }}">
                    </div>
                </div>
                <div class="col-md-4 d-flex align-items-end">
                    <button type="submit" class="btn btn-primary w-100">–ù–∞–π—Ç–∏</button>
                </div>
            </div>
        </form>
    </div>
</section>
        </div>
    </section>

    <!-- –ë–∞–Ω–Ω–µ—Ä —Å –∞–∫—Ü–∏–µ–π -->
    <section class="promo-banner">
        <div class="container">
            <div class="banner-content">
                <h2>–°–∫–∏–¥–∫–∞ 10% –Ω–∞ –ø–µ—Ä–≤—É—é –∞—Ä–µ–Ω–¥—É!</h2>
                <p>–£—Å–ø–µ–π—Ç–µ –¥–æ 31 –¥–µ–∫–∞–±—Ä—è 2025 –≥–æ–¥–∞. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ <strong>RENTIFY10</strong>.</p>
                <button class="btn btn-white">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            </div>
        </div>
    </section>

    <!-- –ë–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ -->
    <div class="ticker">
        <div class="ticker-content">
            <span>üî• –°–∫–∏–¥–∫–∞ 10% –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º</span>
            <span>üöÄ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</span>
            <span>üè° –ü–æ–¥–±–æ—Ä –∂–∏–ª—å—è –∑–∞ 24 —á–∞—Å–∞</span>
            <span>üéÅ –ü–æ–¥–∞—Ä–æ–∫ –ø—Ä–∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –∞—Ä–µ–Ω–¥–µ</span>
        </div>
    </div>

    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
    <section class="benefits">
        <div class="container">
            <h2>–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç Rentify?</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                    <p>–í—Å–µ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —é—Ä–∏—Å—Ç–∞–º–∏</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-wallet"></i>
                    <h3>–ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏</h3>
                    <p>–ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-search"></i>
                    <h3>–£–¥–æ–±–Ω—ã–π –ø–æ–∏—Å–∫</h3>
                    <p>–§–∏–ª—å—Ç—Ä—ã –ø–æ —Ü–µ–Ω–µ, —Ä–∞–π–æ–Ω—É –∏ —É–¥–æ–±—Å—Ç–≤–∞–º</p>
                </div>
            </div>
        </div>
    </section>

<section class="popular">
    <div class="container">
        <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</h2>


        <div class="tab-content active" id="apartments">
            <div class="properties-grid">
                {% for apartment in popular_apartments %}
                <div class="property-card">
                    <div class="property-image-container">
                        {% if apartment.image_url %}
                        <img src="{{ url_for('static', filename='uploads/' + apartment.image_url) }}"
                             alt="{{ apartment.title }}"
                             onerror="this.onerror=null; this.src='/static/images/default-apartment.jpg'">
                        {% else %}
                        <div class="no-image-placeholder">
                            <i class="fas fa-home"></i>
                        </div>
                        {% endif %}
                    </div>
                    <div class="property-info">
                        <h3>{{ apartment.title }}</h3>
                        <p class="location">{{ apartment.district }}, {{ apartment.address }}</p>
                        <div class="price">{{ "{:,}".format(apartment.price) }} ‚ÇΩ/–º–µ—Å</div>
                        <a href="{{ url_for('apartment_detail', apartment_id=apartment.id) }}"
                           class="btn btn-primary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <div class="tab-content" id="garages">
            <div class="properties-grid">
                {% for garage in popular_garages %}
                <div class="property-card">
                    <div class="property-image-container">
                        {% if garage.image_url %}
                        <img src="{{ url_for('static', filename='uploads/' + garage.image_url) }}"
                             alt="{{ garage.title }}"
                             onerror="this.onerror=null; this.src='/static/images/default-garage.jpg'">
                        {% else %}
                        <div class="no-image-placeholder">
                            <i class="fas fa-warehouse"></i>
                        </div>
                        {% endif %}
                    </div>
                    <div class="property-info">
                        <h3>{{ garage.title }}</h3>
                        <p class="location">{{ garage.district }}, {{ garage.address }}</p>
                        <div class="price">{{ "{:,}".format(garage.price) }} ‚ÇΩ/–º–µ—Å</div>
                        <a href="{{ url_for('garage_detail', garage_id=garage.id) }}"
                           class="btn btn-primary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

    <!-- –ö–∞—Ä—Ç–∞ -->
    <section class="map-section">
        <div class="container">
            <h2>–û–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∞</h2>
            <div id="map"></div>
        </div>
    </section>

    <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä -->
    <section class="calculator">
        <div class="container">
            <h2>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞—Ä–µ–Ω–¥—ã</h2>
            <div class="calc-form">
                <div class="form-group">
                    <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–∞ (‚ÇΩ/–º–µ—Å):</label>
                    <input type="number" id="price" placeholder="30 000">
                </div>
                <div class="form-group">
                    <label>–°—Ä–æ–∫ –∞—Ä–µ–Ω–¥—ã (–º–µ—Å—è—Ü—ã):</label>
                    <input type="number" id="months" placeholder="12">
                </div>
                <button id="calculate-btn" class="btn btn-primary">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <div id="result" class="calc-result"></div>
            </div>
        </div>
    </section>

    <!-- –û—Ç–∑—ã–≤—ã -->
    <section class="reviews">
        <div class="container">
            <h2>–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
            <div class="reviews-slider">
                <div class="review-card">
                    <img src="/static/images/user1.jpg" alt="–ê–ª–µ–∫—Å–µ–π">
                    <p>"–ù–∞—à—ë–ª –∫–≤–∞—Ä—Ç–∏—Ä—É –∑–∞ 1 –¥–µ–Ω—å! –°–µ—Ä–≤–∏—Å –Ω–∞ 5 –∑–≤—ë–∑–¥."</p>
                    <span>‚Äî –ê–ª–µ–∫—Å–µ–π, 29 –ª–µ—Ç</span>
                </div>
                <div class="review-card">
                    <img src="/static/images/user2.jpg" alt="–ú–∞—Ä–∏—è">
                    <p>"–ü–æ–Ω—Ä–∞–≤–∏–ª–∏—Å—å —á–µ—Å—Ç–Ω—ã–µ —Ü–µ–Ω—ã –∏ –±—ã—Å—Ç—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞."</p>
                    <span>‚Äî –ú–∞—Ä–∏—è, 34 –≥–æ–¥–∞</span>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="faq">
        <div class="container">
            <h2>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
            <div class="faq-item">
                <button class="faq-question">–ö–∞–∫ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –∂–∏–ª—å—ë?</button>
                <div class="faq-answer">
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å –∏ –ø–æ–¥–ø–∏—à–∏—Ç–µ –¥–æ–≥–æ–≤–æ—Ä.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-question">–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å–∫–∏–¥–∫—É 10%?</button>
                <div class="faq-answer">
                    <p>–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ <strong>RENTIFY10</strong> –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏.</p>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <p>¬© 2024 Rentify. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="/static/js/script.js"></script>
</body>
</html>
